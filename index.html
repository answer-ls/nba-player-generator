<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NBAçƒå‘˜ç”Ÿæˆå™¨</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1e3c72, #2a5298);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .controls {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }
        
        .mode-selector {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .mode-btn {
            padding: 12px 25px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50px;
            color: white;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .mode-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-3px);
        }
        
        .mode-btn.active {
            background: #e74c3c;
            border-color: #e74c3c;
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.4);
        }
        
        .player-type {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .player-type label {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            font-size: 1.1rem;
        }
        
        .team-mode {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .team-mode label {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            font-size: 1.1rem;
        }
        
        .player-inputs {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            display: none;
        }
        
        .player-inputs h3 {
            text-align: center;
            margin-bottom: 15px;
            color: #f1c40f;
        }
        
        .input-group {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .player-inputs input {
            padding: 10px 15px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            background: rgba(0, 0, 0, 0.3);
            color: white;
            font-size: 1rem;
            width: 150px;
        }
        
        .player-inputs input:focus {
            outline: none;
            border-color: #e74c3c;
        }
        
        .player-management {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
            flex-wrap: wrap;
        }
        
        .player-management button {
            padding: 8px 16px;
            background: #3498db;
            border: none;
            border-radius: 5px;
            color: white;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .player-management button:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }
        
        .player-management button.save-btn {
            background: #27ae60;
        }
        
        .player-management button.save-btn:hover {
            background: #219653;
        }
        
        .player-management button.clear-btn {
            background: #e74c3c;
        }
        
        .player-management button.clear-btn:hover {
            background: #c0392b;
        }
        
        .generate-btn {
            padding: 15px 40px;
            background: #e74c3c;
            border: none;
            border-radius: 50px;
            color: white;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.4);
            margin: 0 auto;
            display: block;
        }
        
        .generate-btn:hover {
            background: #c0392b;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(231, 76, 60, 0.6);
        }
        
        .result-container {
            display: none;
            margin-top: 20px;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            font-size: 1.5rem;
        }
        
        .spinner {
            border: 5px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 5px solid #e74c3c;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .matchup-result, .teams-result, .single-player-result {
            display: none;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            margin-bottom: 20px;
        }
        
        .matchup-title, .teams-title, .single-player-title {
            text-align: center;
            font-size: 1.8rem;
            margin-bottom: 30px;
            color: #e74c3c;
        }
        
        .matchup-content {
            display: flex;
            justify-content: space-between;
            gap: 20px;
        }
        
        .team {
            flex: 1;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
        }
        
        .team-name {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #f1c40f;
            font-weight: 600;
        }
        
        .vs {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: bold;
            color: #e74c3c;
        }
        
        .player-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }
        
        .player-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .player-name {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .player-details {
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        .player-assign {
            font-size: 1rem;
            color: #f1c40f;
            margin-top: 8px;
            font-weight: 600;
        }
        
        .teams-content {
            display: flex;
            justify-content: space-between;
            gap: 20px;
        }
        
        .team-simple {
            flex: 1;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 30px;
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 200px;
        }
        
        .team-simple-name {
            font-size: 2.5rem;
            color: #f1c40f;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .team-simple-subtitle {
            font-size: 1.2rem;
            margin-top: 10px;
            opacity: 0.8;
        }
        
        .team-players {
            margin-top: 15px;
            font-size: 1.1rem;
            color: #fff;
        }
        
        .team-players-list {
            margin-top: 10px;
            text-align: left;
            width: 100%;
            max-width: 300px;
        }
        
        .team-player-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            padding: 8px 12px;
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
        }
        
        .single-player-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 30px;
        }
        
        .single-player-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 30px;
            max-width: 400px;
            width: 100%;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            margin-bottom: 20px;
        }
        
        .single-player-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
        }
        
        .single-player-name {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: #f1c40f;
        }
        
        .single-player-details {
            font-size: 1.2rem;
            margin-bottom: 15px;
            opacity: 0.9;
        }
        
        .single-player-team {
            font-size: 1.5rem;
            font-weight: 600;
            color: #3498db;
            margin-bottom: 10px;
        }
        
        .single-player-position {
            font-size: 1.3rem;
            font-weight: 600;
            color: #e74c3c;
        }
        
        .share-btn {
            padding: 12px 25px;
            background: #3498db;
            border: none;
            border-radius: 50px;
            color: white;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.4);
            margin: 20px auto 0;
            display: block;
        }
        
        .share-btn:hover {
            background: #2980b9;
            transform: translateY(-3px);
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            font-size: 0.9rem;
            opacity: 0.7;
        }
        
        @media (max-width: 768px) {
            .matchup-content, .teams-content {
                flex-direction: column;
            }
            
            .vs {
                margin: 20px 0;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .team-simple-name {
                font-size: 2rem;
            }
            
            .input-group {
                flex-direction: column;
                align-items: center;
            }
            
            .player-inputs input {
                width: 100%;
                max-width: 200px;
            }
            
            .player-management {
                flex-direction: column;
                align-items: center;
            }
            
            .player-management button {
                width: 100%;
                max-width: 200px;
            }
            
            .single-player-name {
                font-size: 1.6rem;
            }
            
            .single-player-details {
                font-size: 1rem;
            }
            
            .single-player-team {
                font-size: 1.3rem;
            }
            
            .single-player-position {
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ€ NBAçƒå‘˜ç”Ÿæˆå™¨</h1>
            <p class="subtitle">éšæœºç”ŸæˆNBAçƒå‘˜å¯¹å†³ã€å®Œæ•´çƒé˜Ÿæˆ–å•çƒå‘˜ï¼Œä½“éªŒä¸ä¸€æ ·çš„ç¯®çƒä¹è¶£ï¼</p>
        </header>
        
        <div class="controls">
            <div class="mode-selector">
                <button class="mode-btn active" data-mode="matchup">çƒå‘˜å¯¹å†³</button>
                <button class="mode-btn" data-mode="teams">å®Œæ•´çƒé˜Ÿ</button>
                <button class="mode-btn" data-mode="single">å•çƒå‘˜æŠ½å–</button>
            </div>
            
            <div class="player-type">
                <label>
                    <input type="radio" name="playerType" value="active" checked>
                    <span>ç°å½¹çƒå‘˜</span>
                </label>
                <label>
                    <input type="radio" name="playerType" value="classic">
                    <span>ä¼ å¥‡çƒå‘˜</span>
                </label>
            </div>
            
            <div class="team-mode">
                <label>
                    <input type="radio" name="teamMode" value="auto" checked>
                    <span>è‡ªåŠ¨åˆ†é˜Ÿ</span>
                </label>
                <label>
                    <input type="radio" name="teamMode" value="manual">
                    <span>ç©å®¶åˆ†é˜Ÿ</span>
                </label>
            </div>
            
            <div id="playerInputs" class="player-inputs">
                <h3>è¯·è¾“å…¥4åç©å®¶åç§°</h3>
                <div class="input-group">
                    <input type="text" id="player1" placeholder="ç©å®¶1">
                    <input type="text" id="player2" placeholder="ç©å®¶2">
                </div>
                <div class="input-group">
                    <input type="text" id="player3" placeholder="ç©å®¶3">
                    <input type="text" id="player4" placeholder="ç©å®¶4">
                </div>
                <div class="player-management">
                    <button class="save-btn" id="savePlayers">ä¿å­˜ç©å®¶</button>
                    <button class="clear-btn" id="clearPlayers">æ¸…ç©ºç©å®¶</button>
                    <button id="loadPlayers">åŠ è½½ç©å®¶</button>
                </div>
            </div>
            
            <button id="generateBtn" class="generate-btn">ç”Ÿæˆå¯¹å†³</button>
        </div>
        
        <div id="resultContainer" class="result-container">
            <div id="loading" class="loading">
                <div class="spinner"></div>
                æ­£åœ¨ç”Ÿæˆä¸­ï¼Œè¯·ç¨å€™...
            </div>
            
            <div id="matchupResult" class="matchup-result">
                <h2 class="matchup-title">ğŸ† çƒå‘˜å¯¹å†³</h2>
                <div class="matchup-content">
                    <div class="team">
                        <div class="team-name" id="team1Name">é˜Ÿä¼ä¸€</div>
                        <div id="team1Players"></div>
                    </div>
                    <div class="vs">VS</div>
                    <div class="team">
                        <div class="team-name" id="team2Name">é˜Ÿä¼äºŒ</div>
                        <div id="team2Players"></div>
                    </div>
                </div>
            </div>
            
            <div id="teamsResult" class="teams-result">
                <h2 class="teams-title">ğŸ€ å®Œæ•´çƒé˜Ÿ</h2>
                <div class="teams-content">
                    <div class="team-simple">
                        <div class="team-simple-name" id="teamA">é˜Ÿä¼A</div>
                        <div class="team-simple-subtitle" id="teamASubtitle">éšæœºç”Ÿæˆçƒé˜Ÿ</div>
                        <div class="team-players" id="teamAPlayers"></div>
                    </div>
                    <div class="team-simple">
                        <div class="team-simple-name" id="teamB">é˜Ÿä¼B</div>
                        <div class="team-simple-subtitle" id="teamBSubtitle">éšæœºç”Ÿæˆçƒé˜Ÿ</div>
                        <div class="team-players" id="teamBPlayers"></div>
                    </div>
                </div>
            </div>
            
            <div id="singlePlayerResult" class="single-player-result">
                <h2 class="single-player-title">ğŸŒŸ å•çƒå‘˜æŠ½å–</h2>
                <div class="single-player-content">
                    <div class="single-player-card">
                        <div class="single-player-name" id="singlePlayerName">çƒå‘˜å§“å</div>
                        <div class="single-player-details" id="singlePlayerDetails">çƒå‘˜è¯¦æƒ…</div>
                        <div class="single-player-team" id="singlePlayerTeam">çƒé˜Ÿåç§°</div>
                        <div class="single-player-position" id="singlePlayerPosition">ä½ç½®</div>
                    </div>
                    <p>æ­å–œä½ æŠ½åˆ°äº†è¿™ä½çƒå‘˜ï¼</p>
                </div>
            </div>
            
            <button class="share-btn" onclick="shareResult()">åˆ†äº«ç»“æœ</button>
        </div>
        
        <footer>
            <p>Â© 2025 NBAçƒå‘˜ç”Ÿæˆå™¨ | æ•°æ®ä»…ä¾›å‚è€ƒï¼Œéå®˜æ–¹æ•°æ®</p>
        </footer>
    </div>

    <script>
        // NBAçƒå‘˜æ•°æ®
        const nbaData = {
            active: [
                { name: "LeBron James", chinese: "å‹’å¸ƒæœ—Â·è©¹å§†æ–¯", team: "æ¹–äºº", position: "SF" },
                { name: "Stephen Curry", chinese: "æ–¯è’‚èŠ¬Â·åº“é‡Œ", team: "å‹‡å£«", position: "PG" },
                { name: "Kevin Durant", chinese: "å‡¯æ–‡Â·æœå…°ç‰¹", team: "å¤ªé˜³", position: "SF" },
                { name: "Giannis Antetokounmpo", chinese: "æ‰¬å°¼æ–¯Â·å®‰ç‰¹æ‰˜æ˜†åš", team: "é›„é¹¿", position: "PF" },
                { name: "Luka Doncic", chinese: "å¢å¡Â·ä¸œå¥‘å¥‡", team: "ç‹¬è¡Œä¾ ", position: "PG" },
                { name: "Anthony Davis", chinese: "å®‰ä¸œå°¼Â·æˆ´ç»´æ–¯", team: "æ¹–äºº", position: "PF" },
                { name: "Jayson Tatum", chinese: "æ°æ£®Â·å¡”å›¾å§†", team: "å‡¯å°”ç‰¹äºº", position: "SF" },
                { name: "Joel Embiid", chinese: "ä¹”å°”Â·æ©æ¯”å¾·", team: "76äºº", position: "C" },
                { name: "Nikola Jokic", chinese: "å°¼å¤æ‹‰Â·çº¦åŸºå¥‡", team: "æ˜é‡‘", position: "C" },
                { name: "Devin Booker", chinese: "å¾·æ–‡Â·å¸ƒå…‹", team: "å¤ªé˜³", position: "SG" },
                { name: "Kawhi Leonard", chinese: "ç§‘æ€€Â·ä¼¦çº³å¾·", team: "å¿«èˆ¹", position: "SF" },
                { name: "Paul George", chinese: "ä¿ç½—Â·ä¹”æ²»", team: "å¿«èˆ¹", position: "SF" },
                { name: "Damian Lillard", chinese: "è¾¾ç±³å®‰Â·åˆ©æ‹‰å¾·", team: "é›„é¹¿", position: "PG" },
                { name: "Jimmy Butler", chinese: "å‰ç±³Â·å·´ç‰¹å‹’", team: "çƒ­ç«", position: "SF" },
                { name: "Trae Young", chinese: "ç‰¹é›·Â·æ¨", team: "è€é¹°", position: "PG" }
            ],
            
            classic: [
                { name: "Kobe Bryant", chinese: "ç§‘æ¯”Â·å¸ƒè±æ©ç‰¹", team: "æ¹–äºº", position: "SG" },
                { name: "Michael Jordan", chinese: "è¿ˆå…‹å°”Â·ä¹”ä¸¹", team: "å…¬ç‰›", position: "SG" },
                { name: "Shaquille O'Neal", chinese: "æ²™å¥å°”Â·å¥¥å°¼å°”", team: "æ¹–äºº", position: "C" },
                { name: "Tim Duncan", chinese: "è’‚å§†Â·é‚“è‚¯", team: "é©¬åˆº", position: "PF" },
                { name: "Allen Iverson", chinese: "é˜¿ä¼¦Â·è‰¾å¼—æ£®", team: "76äºº", position: "PG" },
                { name: "Yao Ming", chinese: "å§šæ˜", team: "ç«ç®­", position: "C" },
                { name: "Dirk Nowitzki", chinese: "å¾·å…‹Â·è¯ºç»´èŒ¨åŸº", team: "ç‹¬è¡Œä¾ ", position: "PF" },
                { name: "Magic Johnson", chinese: "é­”æœ¯å¸ˆçº¦ç¿°é€Š", team: "æ¹–äºº", position: "PG" },
                { name: "Larry Bird", chinese: "æ‹‰é‡ŒÂ·ä¼¯å¾·", team: "å‡¯å°”ç‰¹äºº", position: "SF" },
                { name: "Hakeem Olajuwon", chinese: "å“ˆåŸºå§†Â·å¥¥æ‹‰æœ±æ—º", team: "ç«ç®­", position: "C" }
            ]
        };

        // çƒé˜Ÿåˆ—è¡¨
        const teams = ["æ¹–äºº", "å‹‡å£«", "å‡¯å°”ç‰¹äºº", "çƒ­ç«", "é›„é¹¿", "76äºº", "æ˜é‡‘", "å¤ªé˜³", "å¿«èˆ¹", "ç¯®ç½‘"];

        // å·¥å…·å‡½æ•°
        function getRandomPlayers(playerType, count) {
            const playerPool = nbaData[playerType] || nbaData.active;
            const shuffled = [...playerPool].sort(() => Math.random() - 0.5);
            return shuffled.slice(0, count);
        }

        function getRandomTeam() {
            return teams[Math.floor(Math.random() * teams.length)];
        }

        // ä¿å­˜ç©å®¶åå­—åˆ°æœ¬åœ°å­˜å‚¨
        function savePlayers() {
            const player1 = document.getElementById('player1').value.trim();
            const player2 = document.getElementById('player2').value.trim();
            const player3 = document.getElementById('player3').value.trim();
            const player4 = document.getElementById('player4').value.trim();
            
            if (!player1 || !player2 || !player3 || !player4) {
                alert('è¯·å¡«å†™æ‰€æœ‰ç©å®¶åç§°ï¼');
                return;
            }
            
            const players = [player1, player2, player3, player4];
            localStorage.setItem('nbaPlayers', JSON.stringify(players));
            alert('ç©å®¶åç§°å·²ä¿å­˜ï¼');
        }

        // åŠ è½½ç©å®¶åå­—ä»æœ¬åœ°å­˜å‚¨
        function loadPlayers() {
            const savedPlayers = localStorage.getItem('nbaPlayers');
            if (savedPlayers) {
                const players = JSON.parse(savedPlayers);
                document.getElementById('player1').value = players[0] || '';
                document.getElementById('player2').value = players[1] || '';
                document.getElementById('player3').value = players[2] || '';
                document.getElementById('player4').value = players[3] || '';
                alert('ç©å®¶åç§°å·²åŠ è½½ï¼');
            } else {
                alert('æ²¡æœ‰ä¿å­˜çš„ç©å®¶åç§°ï¼');
            }
        }

        // æ¸…ç©ºç©å®¶åå­—
        function clearPlayers() {
            document.getElementById('player1').value = '';
            document.getElementById('player2').value = '';
            document.getElementById('player3').value = '';
            document.getElementById('player4').value = '';
            localStorage.removeItem('nbaPlayers');
            alert('ç©å®¶åç§°å·²æ¸…ç©ºï¼');
        }

        // ç”Ÿæˆå¯¹å†³
        function generateMatchup() {
            const playerType = document.querySelector('input[name="playerType"]:checked').value;
            const teamMode = document.querySelector('input[name="teamMode"]:checked').value;
            const loading = document.getElementById('loading');
            const resultContainer = document.getElementById('resultContainer');
            const matchupResult = document.getElementById('matchupResult');
            const teamsResult = document.getElementById('teamsResult');
            const singlePlayerResult = document.getElementById('singlePlayerResult');
            
            // éªŒè¯ç©å®¶è¾“å…¥ï¼ˆå¦‚æœæ˜¯æ‰‹åŠ¨åˆ†é˜Ÿæ¨¡å¼ï¼‰
            if (teamMode === 'manual') {
                const player1 = document.getElementById('player1').value.trim();
                const player2 = document.getElementById('player2').value.trim();
                const player3 = document.getElementById('player3').value.trim();
                const player4 = document.getElementById('player4').value.trim();
                
                if (!player1 || !player2 || !player3 || !player4) {
                    alert('è¯·å¡«å†™æ‰€æœ‰ç©å®¶åç§°ï¼');
                    return;
                }
            }
            
            // æ˜¾ç¤ºåŠ è½½å’Œç»“æœå®¹å™¨
            resultContainer.style.display = 'block';
            loading.style.display = 'block';
            matchupResult.style.display = 'none';
            teamsResult.style.display = 'none';
            singlePlayerResult.style.display = 'none';
            
            // æ¨¡æ‹ŸåŠ è½½æ•ˆæœ
            setTimeout(() => {
                try {
                    const players = getRandomPlayers(playerType, 4);
                    
                    // ç¡®ä¿DOMå…ƒç´ å­˜åœ¨
                    const team1PlayersDiv = document.getElementById('team1Players');
                    const team2PlayersDiv = document.getElementById('team2Players');
                    
                    if (!team1PlayersDiv || !team2PlayersDiv) {
                        throw new Error('æ‰¾ä¸åˆ°DOMå…ƒç´ ');
                    }
                    
                    // åˆ†é˜Ÿé€»è¾‘
                    let team1Players, team2Players;
                    let team1Names = "é˜Ÿä¼ä¸€", team2Names = "é˜Ÿä¼äºŒ";
                    
                    if (teamMode === 'manual') {
                        // æ‰‹åŠ¨åˆ†é˜Ÿæ¨¡å¼ - éšæœºåˆ†é…ç©å®¶åˆ°ä¸¤é˜Ÿ
                        const allPlayers = [
                            document.getElementById('player1').value.trim(),
                            document.getElementById('player2').value.trim(),
                            document.getElementById('player3').value.trim(),
                            document.getElementById('player4').value.trim()
                        ];
                        
                        // éšæœºæ‰“ä¹±ç©å®¶é¡ºåº
                        const shuffledPlayers = [...allPlayers].sort(() => Math.random() - 0.5);
                        
                        // å‰ä¸¤ä¸ªç©å®¶ä¸ºé˜Ÿä¼ä¸€ï¼Œåä¸¤ä¸ªä¸ºé˜Ÿä¼äºŒ
                        team1Names = `${shuffledPlayers[0]} & ${shuffledPlayers[1]}`;
                        team2Names = `${shuffledPlayers[2]} & ${shuffledPlayers[3]}`;
                        
                        // æ›´æ–°é˜Ÿä¼åç§°
                        document.getElementById('team1Name').textContent = team1Names;
                        document.getElementById('team2Name').textContent = team2Names;
                        
                        // åˆ†é…çƒå‘˜ç»™é˜Ÿä¼
                        team1Players = players.slice(0, 2);
                        team2Players = players.slice(2, 4);
                        
                        // ä¸ºæ¯ä¸ªçƒå‘˜åˆ†é…ç©å®¶
                        team1Players[0].assignedPlayer = shuffledPlayers[0];
                        team1Players[1].assignedPlayer = shuffledPlayers[1];
                        team2Players[0].assignedPlayer = shuffledPlayers[2];
                        team2Players[1].assignedPlayer = shuffledPlayers[3];
                    } else {
                        // è‡ªåŠ¨åˆ†é˜Ÿæ¨¡å¼
                        team1Players = players.slice(0, 2);
                        team2Players = players.slice(2, 4);
                        
                        // æ›´æ–°é˜Ÿä¼åç§°
                        document.getElementById('team1Name').textContent = "é˜Ÿä¼ä¸€";
                        document.getElementById('team2Name').textContent = "é˜Ÿä¼äºŒ";
                    }
                    
                    // æ›´æ–°é˜Ÿä¼1çš„çƒå‘˜
                    team1PlayersDiv.innerHTML = team1Players.map(player => {
                        let playerAssign = '';
                        if (player.assignedPlayer) {
                            playerAssign = `<div class="player-assign">ç©å®¶: ${player.assignedPlayer}</div>`;
                        }
                        return `
                            <div class="player-card">
                                <div class="player-name">${player.name}</div>
                                <div class="player-details">${player.chinese} â€¢ ${player.team} â€¢ ${player.position}</div>
                                ${playerAssign}
                            </div>
                        `;
                    }).join('');
                    
                    // æ›´æ–°é˜Ÿä¼2çš„çƒå‘˜
                    team2PlayersDiv.innerHTML = team2Players.map(player => {
                        let playerAssign = '';
                        if (player.assignedPlayer) {
                            playerAssign = `<div class="player-assign">ç©å®¶: ${player.assignedPlayer}</div>`;
                        }
                        return `
                            <div class="player-card">
                                <div class="player-name">${player.name}</div>
                                <div class="player-details">${player.chinese} â€¢ ${player.team} â€¢ ${player.position}</div>
                                ${playerAssign}
                            </div>
                        `;
                    }).join('');
                    
                    // æ˜¾ç¤ºç»“æœ
                    loading.style.display = 'none';
                    matchupResult.style.display = 'block';
                } catch (error) {
                    console.error('ç”Ÿæˆçƒå‘˜å¯¹å†³æ—¶å‡ºé”™:', error);
                    loading.style.display = 'none';
                    matchupResult.style.display = 'block';
                    document.getElementById('team1Players').innerHTML = '<div class="player-card">ç”Ÿæˆå¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•</div>';
                    document.getElementById('team2Players').innerHTML = '<div class="player-card">ç”Ÿæˆå¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•</div>';
                }
            }, 500);
        }

        // ç”Ÿæˆçƒé˜Ÿ - ç©å®¶åˆ†é˜Ÿä¸æ˜¾ç¤ºçƒå‘˜
        function generateTeams() {
            const teamMode = document.querySelector('input[name="teamMode"]:checked').value;
            const loading = document.getElementById('loading');
            const resultContainer = document.getElementById('resultContainer');
            const matchupResult = document.getElementById('matchupResult');
            const teamsResult = document.getElementById('teamsResult');
            const singlePlayerResult = document.getElementById('singlePlayerResult');
            
            // éªŒè¯ç©å®¶è¾“å…¥ï¼ˆå¦‚æœæ˜¯æ‰‹åŠ¨åˆ†é˜Ÿæ¨¡å¼ï¼‰
            if (teamMode === 'manual') {
                const player1 = document.getElementById('player1').value.trim();
                const player2 = document.getElementById('player2').value.trim();
                const player3 = document.getElementById('player3').value.trim();
                const player4 = document.getElementById('player4').value.trim();
                
                if (!player1 || !player2 || !player3 || !player4) {
                    alert('è¯·å¡«å†™æ‰€æœ‰ç©å®¶åç§°ï¼');
                    return;
                }
            }
            
            // æ˜¾ç¤ºåŠ è½½å’Œç»“æœå®¹å™¨
            resultContainer.style.display = 'block';
            loading.style.display = 'block';
            matchupResult.style.display = 'none';
            teamsResult.style.display = 'none';
            singlePlayerResult.style.display = 'none';
            
            // æ¨¡æ‹ŸåŠ è½½æ•ˆæœ
            setTimeout(() => {
                let teamAName, teamBName;
                let teamAPlayers = "", teamBPlayers = "";
                let teamASubtitle, teamBSubtitle;
                
                if (teamMode === 'manual') {
                    // æ‰‹åŠ¨åˆ†é˜Ÿæ¨¡å¼ - éšæœºåˆ†é…ç©å®¶åˆ°ä¸¤é˜Ÿ
                    const allPlayers = [
                        document.getElementById('player1').value.trim(),
                        document.getElementById('player2').value.trim(),
                        document.getElementById('player3').value.trim(),
                        document.getElementById('player4').value.trim()
                    ];
                    
                    // éšæœºæ‰“ä¹±ç©å®¶é¡ºåº
                    const shuffledPlayers = [...allPlayers].sort(() => Math.random() - 0.5);
                    
                    // å‰ä¸¤ä¸ªç©å®¶ä¸ºé˜Ÿä¼Aï¼Œåä¸¤ä¸ªä¸ºé˜Ÿä¼B
                    const teamAPlayerNames = `${shuffledPlayers[0]} & ${shuffledPlayers[1]}`;
                    const teamBPlayerNames = `${shuffledPlayers[2]} & ${shuffledPlayers[3]}`;
                    
                    // ç”Ÿæˆéšæœºçƒé˜Ÿå
                    teamAName = getRandomTeam();
                    teamBName = getRandomTeam();
                    
                    // æ›´æ–°é˜Ÿä¼åç§°å’Œç©å®¶ä¿¡æ¯
                    teamASubtitle = `ç©å®¶åˆ†é˜Ÿ: ${teamAPlayerNames}`;
                    teamBSubtitle = `ç©å®¶åˆ†é˜Ÿ: ${teamBPlayerNames}`;
                    
                    // ç©å®¶åˆ†é˜Ÿæ¨¡å¼ä¸‹ä¸æ˜¾ç¤ºçƒå‘˜ï¼Œåªæ˜¾ç¤ºç©å®¶ä¿¡æ¯
                    teamAPlayers = `<div class="team-players">ç©å®¶: ${teamAPlayerNames}</div>`;
                    teamBPlayers = `<div class="team-players">ç©å®¶: ${teamBPlayerNames}</div>`;
                } else {
                    // è‡ªåŠ¨åˆ†é˜Ÿæ¨¡å¼
                    teamAName = getRandomTeam();
                    teamBName = getRandomTeam();
                    
                    // æ›´æ–°é˜Ÿä¼åç§°å’Œç©å®¶ä¿¡æ¯
                    teamASubtitle = "éšæœºç”Ÿæˆçƒé˜Ÿ";
                    teamBSubtitle = "éšæœºç”Ÿæˆçƒé˜Ÿ";
                    
                    // è·å–5åçƒå‘˜ï¼ˆå®Œæ•´çƒé˜Ÿï¼‰
                    const players = getRandomPlayers('active', 5);
                    
                    // åˆ†é…çƒå‘˜ç»™é˜Ÿä¼
                    const teamAPlayersList = players.slice(0, 3);
                    const teamBPlayersList = players.slice(3, 5);
                    
                    // åˆ›å»ºçƒå‘˜åˆ—è¡¨HTML
                    teamAPlayers = `
                        <div class="team-players-list">
                            ${teamAPlayersList.map(player => `
                                <div class="team-player-item">
                                    <span>${player.name}</span>
                                    <span>${player.position}</span>
                                </div>
                            `).join('')}
                        </div>
                    `;
                    
                    teamBPlayers = `
                        <div class="team-players-list">
                            ${teamBPlayersList.map(player => `
                                <div class="team-player-item">
                                    <span>${player.name}</span>
                                    <span>${player.position}</span>
                                </div>
                            `).join('')}
                        </div>
                    `;
                }
                
                // æ›´æ–°é˜Ÿä¼A
                document.getElementById('teamA').textContent = teamAName;
                document.getElementById('teamASubtitle').textContent = teamASubtitle;
                document.getElementById('teamAPlayers').innerHTML = teamAPlayers;
                
                // æ›´æ–°é˜Ÿä¼B
                document.getElementById('teamB').textContent = teamBName;
                document.getElementById('teamBSubtitle').textContent = teamBSubtitle;
                document.getElementById('teamBPlayers').innerHTML = teamBPlayers;
                
                // æ˜¾ç¤ºç»“æœ
                loading.style.display = 'none';
                teamsResult.style.display = 'block';
            }, 800);
        }

        // ç”Ÿæˆå•çƒå‘˜
        function generateSinglePlayer() {
            const playerType = document.querySelector('input[name="playerType"]:checked').value;
            const loading = document.getElementById('loading');
            const resultContainer = document.getElementById('resultContainer');
            const matchupResult = document.getElementById('matchupResult');
            const teamsResult = document.getElementById('teamsResult');
            const singlePlayerResult = document.getElementById('singlePlayerResult');
            
            // æ˜¾ç¤ºåŠ è½½å’Œç»“æœå®¹å™¨
            resultContainer.style.display = 'block';
            loading.style.display = 'block';
            matchupResult.style.display = 'none';
            teamsResult.style.display = 'none';
            singlePlayerResult.style.display = 'none';
            
            // æ¨¡æ‹ŸåŠ è½½æ•ˆæœ
            setTimeout(() => {
                // è·å–1åéšæœºçƒå‘˜
                const player = getRandomPlayers(playerType, 1)[0];
                
                // æ›´æ–°çƒå‘˜ä¿¡æ¯
                document.getElementById('singlePlayerName').textContent = player.name;
                document.getElementById('singlePlayerDetails').textContent = player.chinese;
                document.getElementById('singlePlayerTeam').textContent = player.team;
                document.getElementById('singlePlayerPosition').textContent = player.position;
                
                // æ˜¾ç¤ºç»“æœ
                loading.style.display = 'none';
                singlePlayerResult.style.display = 'block';
            }, 600);
        }

        // åˆ†äº«åŠŸèƒ½
        function shareResult() {
            const text = `ğŸ€ çœ‹æˆ‘ç”Ÿæˆçš„NBAçƒå‘˜ï¼\nå¿«æ¥è¯•è¯•è¿™ä¸ªå…è´¹çš„NBAçƒå‘˜ç”Ÿæˆå™¨å§ï¼`;
            const url = window.location.href;
            
            if (navigator.share) {
                // å¦‚æœæµè§ˆå™¨æ”¯æŒåˆ†äº«API
                navigator.share({
                    title: 'NBAçƒå‘˜ç”Ÿæˆå™¨',
                    text: text,
                    url: url
                });
            } else {
                // å¦‚æœä¸æ”¯æŒï¼Œå¤åˆ¶é“¾æ¥åˆ°å‰ªè´´æ¿
                navigator.clipboard.writeText(url + '\n' + text).then(() => {
                    alert('é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼å¿«å»åˆ†äº«ç»™æœ‹å‹å§ï¼');
                });
            }
        }

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // æ¨¡å¼åˆ‡æ¢
            document.querySelectorAll('.mode-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    const mode = this.dataset.mode;
                    const generateBtn = document.getElementById('generateBtn');
                    
                    if (mode === 'matchup') {
                        generateBtn.textContent = 'ç”Ÿæˆå¯¹å†³';
                        generateBtn.onclick = generateMatchup;
                    } else if (mode === 'teams') {
                        generateBtn.textContent = 'ç”Ÿæˆçƒé˜Ÿ';
                        generateBtn.onclick = generateTeams;
                    } else {
                        generateBtn.textContent = 'æŠ½å–çƒå‘˜';
                        generateBtn.onclick = generateSinglePlayer;
                    }
                });
            });
            
            // åˆ†é˜Ÿæ¨¡å¼åˆ‡æ¢
            document.querySelectorAll('input[name="teamMode"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    const playerInputs = document.getElementById('playerInputs');
                    if (this.value === 'manual') {
                        playerInputs.style.display = 'block';
                    } else {
                        playerInputs.style.display = 'none';
                    }
                });
            });
            
            // ç©å®¶ç®¡ç†æŒ‰é’®
            document.getElementById('savePlayers').addEventListener('click', savePlayers);
            document.getElementById('loadPlayers').addEventListener('click', loadPlayers);
            document.getElementById('clearPlayers').addEventListener('click', clearPlayers);
            
            // é»˜è®¤ç»‘å®šç”Ÿæˆå¯¹å†³
            document.getElementById('generateBtn').onclick = generateMatchup;
            
            // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨åŠ è½½ç©å®¶åç§°
            loadPlayers();
        });
    </script>
</body>
</html>
